---
title: dedupe
---

# dedupe

::: tip
减少重复
:::

## 概要

```bash
npm dedupe
npm ddp

aliases: find-dupes, ddp
```

## 详情

搜索本地软件包树，并尝试通过将依赖关系进一步移到树上来简化整体结构，在此树中，多个依赖软件包可以更有效地共享它们。
例如，考虑以下依赖关系图：

```bash
a
+-- b <-- depends on c@1.0.x
|   `-- c@1.0.3
`-- d <-- depends on c@~1.0.9
    `-- c@1.0.10
```

在这种情况下，npm-dedupe会将树转换为：

```bash
a
+-- b
+-- d
`-- c@1.0.10
```

由于节点模块查找的分层性质，b和d都将在树的根级别上由单个c包满足它们的依赖关系。  

重复数据删除算法会遍历树，即使未找到重复项，也将每个依赖项在树中尽可能移到更高的位置。
这将导致平面树和重复数据消除树。  

如果树中目标位置已经存在合适的版本，则将保持不变，但其他重复项将被删除。  

请注意，此操作将转换依赖关系树，但绝不会导致安装新模块。